# 压缩机性能计算器 (Compressor Performance Calculator)

这是一个基于 Web (JavaScript 和 WebAssembly) 的热力学计算工具，用于评估和预测“干式压缩”容积式压缩机（如涡旋机、无油螺杆、活塞机）的性能。它还包含一个专门用于 MVR（机械蒸汽再压缩）的“湿式喷水”计算模块。

本项目基于 [CoolProp](http://coolprop.org/) 物性库 (WASM 版本)。

**注意：** 本工具不适用于“喷油螺杆机”（因其热力学模型不同）或“离心机”（因其非容积式）。

---

### ✨ 新功能：效率智能选型 (v7.3)

为了提升易用性，主要计算模块为核心效率参数（如等熵效率、容积效率）增加了预设值下拉菜单。

您可以根据常见的压缩机类型（如“高效无油螺杆”、“MVR罗茨风机”）快速填充一组符合行业水平的参考效率，同时保留手动修改的能力。

此功能已应用于：**热泵预测、气体预测、空压机、MVR（容积式）和 MVR（透平式）**模式中的效率输入项。

---

## 🛠️ 功能模块

本项目包含三个主要计算模式，分为两个选项卡：

### 选项卡一：干式压缩 (Dry Compression)

此模式适用于涡旋机、无油螺杆、活塞机等。

* **模式一：性能评估 (Evaluation)**
    * **输入：** 实际测量的功率 (kW)、容量 (kW) 和热力学工况。
    * **输出：** 压缩机的 `η_s` (等熵效率) 和 `η_v` (容积效率)。
    * *用途：用于评估现有设备的实际运行效率。*

* **模式二：性能预测 (Prediction)**
    * **输入：** 压缩机的 `η_s` 和 `η_v`，以及目标工况。
    * **输出：** 压缩机在该工况下的功率 (kW)、容量 (kW)、排气温度 (T2a) 等。
    * **子功能：** 包含一个可选的“后冷却器 (Desuperheater)”负荷计算。
    * *用途：用于在设计新系统时预测压缩机性能。*

### 选项卡二：MVR 喷水 (MVR Water Injection)

此模式专门用于 MVR (机械蒸汽再压缩) 场景，工质为水蒸气 (Water)。

* **模式三：MVR 喷水计算 (Wet Compression)**
    * **输入：** 压缩机效率 (`η_v`, `η_s`)、工艺工况（入口/出口压力）、喷水温度。
    * **输出：** 为达到目标出口状态（如饱和蒸汽）所需的**喷水量 (kg/s)**。
    * *用途：适用于无油螺杆或罗茨压缩机在 MVR 系统中的工艺计算。*

---

## 🚀 如何运行

**重要：** 本项目**不能**通过直接双击 `index.html` 文件来运行。

由于浏览器安全策略限制， `.wasm` (WebAssembly) 文件必须通过 `http://` 或 `https://` 协议加载。

### 1. 下载物性库

* 本项目不包含 CoolProp 的核心文件。
* 请从 [CoolProp WASM 发布页](https://github.com/CoolProp/CoolProp/tree/master/Web/coolprop) 自行下载以下两个文件：
    1.  `coolprop.js`
    2.  `coolprop.wasm`
* 将这两个文件放在 `index.html` **所在的根目录**中。

### 2. 启动本地服务器 (推荐)

最简单的方法是使用 VSCode 和 "Live Server" 插件。

1.  在 VSCode 中打开本项目文件夹。
2.  安装 "Live Server" 插件。
3.  在 `index.html` 文件上点击右键，选择 "Open with Live Server"。
4.  浏览器将自动打开 `http://127.0.0.1:5500/index.html`，此时应用即可正常运行。

---

## 📝 免责声明

编者已尽力确保本计算器结果的准确性，但不对任何因使用本工具而导致的潜在错误或损失承担责任。计算结果仅供参考，请在实际工程应用中谨慎核验。